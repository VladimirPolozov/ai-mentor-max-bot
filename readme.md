# ИИ-бот наставник MAX для студентов

Бот для мессенджера Max распознает на естественном языке вопросы студентов об устройстве своего вуза и образовательного процесса в нём и отвечает на них на основе базы знаний.
В рамках MVP функциональность релизована с рассчётом на студентов первого курса направления «Прикладная информатика в экономике» Кемеровского государственного университета.
Вызывает локальный RAG-API, получает ответ на основе документов и отправляет в Max.

---

## Требования

- Python 3.9–3.12

---

## Установка зависимостей

Установите все необходимые пакеты:

```bash
pip install -r requirements.txt
```

---

## Настройка

Создайте файл .env в корне проекта:

```bash
# Токен бота Max
MAX_BOT_TOKEN=ваш_токен_бота

# Секретный ключ RAG-API (любая строка)
API_KEY=secret-key-for-max-hackathon

# URL прокси для LLM
DEEPSEEK_BASE_URL=https://api.proxyapi.ru/openrouter/v1

# Ключ для доступа к LLM
OPENAI_API_KEY=

# Папка с документами базы знаний
DATA_DIRECTORY=./data

# Путь к векторной базе
VECTOR_STORE_PATH=./chroma_db
```

---

## Запуск

### 1. Запустите RAG-сервис (обработка вопросов)

```bash
python app.py
```

Первый запуск займёт время (5–20 мин), т.к. скачаивается модель ai-forever/sbert_large_nlu_ru (~1.7 ГБ).

### 2. В новом терминале запустите бота

```bash
python main.py
```

### Запуск через Docker

```bash
docker-compose up --build
```

## Структура проекта

```bash
.
├── main.py                 # Точка входа бота (aiomax)
├── config.py               # Загрузка переменных из .env
├── .env                    # Секреты (НЕ в Git!)
│
├── bot/                    # Обработчики сообщений из Max
│   └── handlers/
│
└── RAG/                    # RAG-ядро: поиск + ИИ
    ├── app.py              # FastAPI-сервис (порт 8000)
    ├── src/                # Чистая архитектура: use cases, core, infra
    ├── data/               # База знаний (.docx)
    └── chroma_db/          # Векторная БД (генерируется автоматически)
```

## Масштабируемость

Структура проекта соответствует принципам Clean Architecture, что позволяет легко расширять его и интегрировать в него через существующее RAG-API новые команды, поддержку других направлений, заменять модели, веб-интерфейс и т.п.